(function(){var f=[200,201,202,203,204,205,206];plug.singleton("http",["promise",function(g){function d(a,b,d){var c=new XMLHttpRequest,e=g.defer();c.open(a,b);c.setRequestHeader("Content-Type","application/json; charset=UTF-8");c.send(d);c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE)if(-1<f.indexOf(c.status)){var a=JSON.parse(c.responseText);e.resolve(a,c.status)}else e.reject(c.status)};return e}this.get=function(a,b){return d("GET",a,b)};this.post=function(a,b){return d("POST",
a,b)};this.put=function(a,b){return d("PUT",a,b)};this["delete"]=function(a,b){return d("DELETE",a,b)}}])})();
