(function(h,t,r){var n=function(){function e(c){var b=c.value;return c.type===l.module?b.getInstance():b}var g=this,k=Array.isArray,l={module:1,injectable:2},h={},n=function(c,b,a){return{name:c,type:b,value:a}},m=function(){var c=[];return{add:function(b,a,f){if("undefined"===typeof b||"undefined"===typeof a)throw Error("Invalid registration");var d;a:{for(;0<c.length;){d=c[0].name===b;break a}d=void 0}if(d)for(;0<c.length;){a=c[0];a.name===b&&(a.value=f);break}else c.push(new n(b,a,f))},retrieve:function(b){if("undefined"===
typeof b||!k(b))throw Error("Must provide at least one name");for(var a=[],f=0;f<b.length;f++){var d;a:{d=b[f];if(!d||"string"!==typeof d)throw Error("Invalid name provided");for(var q=0;q<c.length;q++){var e=c[q];if(e.name===d){d=e;break a}}console.warn("Failed to resolve "+d+". Expect undefined for mapped variable.");d=void 0}a.push(d)}return a}}}();(function(){function c(a,c){if(!k(a))throw Error("Value provided is not an array");return a.map(function(a){return c?b(a,c):a})}function b(a,f){f=f||
!1;var d=a;switch(!0){case a instanceof Object||"object"===typeof a:d=f;if("object"!==typeof a)throw Error("Value provided is not an object");var e={},g;for(g in a)a.hasOwnProperty(g)&&(e[g]=d?b(a[g],d):a[g]);d=e;break;case a instanceof Array||k(a):d=c(a,f);break;case a instanceof Date:d=new Date,d.setTime(a.getTime())}return d}return{clone:b}})();var p=function(c,b,a,f){function d(){if("undefined"===typeof a)return[];if(!k(a))throw Error("Dependencies must be an array");return a.map(function(a){return e(a)})}
return{getInstance:function(){var a;if(h.hasOwnProperty(c))a=h[c];else throw Error("Factory "+c+" is not registered");if("undefined"===typeof a.getInstance)throw Error("Factory must contain a 'getInstance' method");var e=d();return a.getInstance(b,e,f)}}};return{value:function(c,b,a){m.add(c,l.injectable,ObjectModifier.clone(b,a));return this},reference:function(c,b){m.add(c,l.injectable,b);return this},factory:function(c,b){if("undefined"===typeof c||"function"!==typeof b)throw Error("A valid factory must be supplied");
h[c]=b.call();this[c]=function(a,b,d){if("undefined"===typeof a||!k(b))throw Error("Invalid module registration");if(1>=b.length&&"function"!==typeof b[0])throw Error("Module registration requires a constructor function");var e=b.pop();if("function"!==typeof e)throw Error("Last parameter of constructor array must be a constructor function");d=d||g;b=new p(c,e,b,d);m.add(a,l.module,b)}},resolve:function(c){c=m.retrieve([].concat(c));if(1==c.length)return e(c[0]);for(var b={},a=0;a<c.length;a++){var f=
c[a];f!==r&&(b[f.name]=e(f))}return b}}},p={singleton:function(){var e;return{getInstance:function(g,k,h){e===r&&(e=g.apply(h,k));return e}}},"transient":function(){return{getInstance:function(e,g,h){g.unshift(h);return new (Function.prototype.bind.apply(e,g))}}}};(function(){if(!(h.plug&&h.plug instanceof n)){var e=new n,g;for(g in p)e.factory(g,p[g]);e.reference("window",h);e.reference("document",t);h.plug=e}})()})(window,document);
