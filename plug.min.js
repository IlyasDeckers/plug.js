(function(r,t,n){var u=function(){function g(b){return b.type===k.module?b.value.getInstance():b.value}var h=this,l=Array.isArray,k={module:1,injectable:2},p={},q=function(b,a,e){return{name:b,type:a,value:e}},m=function(){var b=[];return{add:function(a,e,d){if("undefined"===typeof a||"undefined"===typeof e)throw Error("Invalid registration");var c;a:{for(;0<b.length;){c=b[0].name===a;break a}c=void 0}if(c)for(;0<b.length;){c=b[0];c.name===a&&(c.value=d);break}b.push(new q(a,e,d))},retrieve:function(a){if("undefined"===
typeof a||!l(a))throw Error("Must provide at least one name");for(var e=[],d=0;d<a.length;d++){var c;a:if((c=a[d])&&"string"===typeof c){for(var f=0;f<b.length;f++){var g=b[f];if(g.name===c){c=g;break a}}console.warn("Failed to resolve "+c+". Expect undefined for mapped variable.");c=void 0}else console.warn("Invalid name provided"),c=n;e.push(c)}return e}}}();(function(){function b(a,e){if("undefined"===typeof a)return a;e=e||!1;var d=a;switch(!0){case a instanceof Object||"object"===typeof a:d=
e;if("object"!==typeof a)throw Error("Not an object");var c={},f;for(f in a)a.hasOwnProperty(f)&&(c[f]=d?b(a[f],d):a[f]);d=c;break;case a instanceof Array||l(a):f=e;if(!l(a))throw Error("Not an array");d=[];for(c=0;c<a.length;c++)d[c]=f?b(a[c],f):a[c];break;case a instanceof Date:d=new Date,d.setTime(a.getTime())}return d}return{clone:b}})();var t=function(b,a,e,d){return{getInstance:function(){var c;c=p.hasOwnProperty(b)?p[b]:void 0;if("undefined"===typeof c.getInstance)throw Error("Factory must contain a 'getInstance' method");
var f=[];if("undefined"!==typeof e&&l(e))for(var h=m.retrieve(e),k=0;k<h.length;k++)f.push(g(h[k]));return c.getInstance(a,f,d)}}};return{ready:function(b){if(b===n||"function"!=typeof b)throw Error("Callback is not a function!");r.onload=function(){b.call(h)}},value:function(b,a,e){m.add(b,k.injectable,ObjectModifier.clone(a,e))},reference:function(b,a){m.add(b,k.injectable,a)},factory:function(b,a){if("undefined"===typeof b||"function"!==typeof a)throw Error("A valid factory must be supplied");
p[b]=a.call();this[b]=function(a,d,c){if("undefined"===typeof a||!l(d))throw Error("Invalid module registration");if(1>d.length)throw Error("Module registration requires a constructor function");var f=d.pop();if("function"!==typeof f)throw Error("Last parameter of constructor array must be a constructor function");c=c||h;d=new t(b,f,d,c);m.add(a,k.module,d)};console.dir(p)},resolve:function(b){b=m.retrieve([].concat(b));if(1==b.length)return g(b[0]);for(var a={},e=0;e<b.length;e++){var d=b[e];d!==
n&&(a[d.name]=g(d))}return a}}},q={singleton:function(){var g;return{getInstance:function(h,l,k){g===n&&(g=h.apply(k,l));return g}}},"transient":function(){return{getInstance:function(g,h,l){return g.apply(l,h)}}}};(function(){var g=new u,h;for(h in q)g.factory(h,q[h]);g.reference("window",r);g.reference("document",t);r.plug=g})()})(window,document);
