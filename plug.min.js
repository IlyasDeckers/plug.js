(function(h,r,t){var p=function(){function e(c){var b=c.value;return c.type===n.module?b.getInstance():b}var g=this,l=Array.isArray,n={module:1,injectable:2},h={},p=function(c,b,a){return{name:c,type:b,value:a}},m=function(){var c=[];return{add:function(b,a,f){if("undefined"===typeof b||"undefined"===typeof a)throw Error("Invalid registration");var d;a:{for(;0<c.length;){d=c[0].name===b;break a}d=void 0}if(d)for(;0<c.length;){a=c[0];a.name===b&&(a.value=f);break}else c.push(new p(b,a,f))},retrieve:function(b){if("undefined"===
typeof b||!l(b))throw Error("Must provide at least one name");for(var a=[],f=0;f<b.length;f++){var d;a:{d=b[f];if(!d||"string"!==typeof d)throw Error("Invalid name provided");for(var e=0;e<c.length;e++){var k=c[e];if(k.name===d){d=k;break a}}console.warn("Failed to resolve "+d+". Expect undefined for mapped variable.");d=void 0}a.push(d)}return a}}}();(function(){function c(a,c){if(!l(a))throw Error("Value provided is not an array");return a.map(function(a){return c?b(a,c):a})}function b(a,f){f=f||
!1;var d=a;switch(!0){case a instanceof Object||"object"===typeof a:d=f;if("object"!==typeof a)throw Error("Value provided is not an object");var e={},k;for(k in a)a.hasOwnProperty(k)&&(e[k]=d?b(a[k],d):a[k]);d=e;break;case a instanceof Array||l(a):d=c(a,f);break;case a instanceof Date:d=new Date,d.setTime(a.getTime())}return d}return{clone:b}})();var q=function(c,b,a,f){function d(){if("undefined"===typeof a)return[];if(!l(a))throw Error("Dependencies must be an array");return m.retrieve(a).map(function(a){return e(a)})}
var g;if(h.hasOwnProperty(c))g=new h[c];else throw Error("Factory "+c+" is not registered");return{getInstance:function(){if("undefined"===typeof g.getInstance)throw Error("Factory must contain a 'getInstance' method");var a=d();return g.getInstance(b,a,f)}}};return{value:function(c,b,a){m.add(c,n.injectable,ObjectModifier.clone(b,a));return this},reference:function(c,b){m.add(c,n.injectable,b);return this},factory:function(c,b){if("undefined"===typeof c||"function"!==typeof b)throw Error("A valid factory must be supplied");
h[c]=b;this[c]=function(a,b,d){if("undefined"===typeof a||!l(b))throw Error("Invalid module registration");if(1>=b.length&&"function"!==typeof b[0])throw Error("Module registration requires a constructor function");var e=b.pop();if("function"!==typeof e)throw Error("Last parameter of constructor array must be a constructor function");d=d||g;b=new q(c,e,b,d);m.add(a,n.module,b)}},resolve:function(c){c=m.retrieve([].concat(c));if(1==c.length)return e(c[0]);for(var b={},a=0;a<c.length;a++){var f=c[a];
f!==t&&(b[f.name]=e(f))}return b}}},q={singleton:function(){var e;return{getInstance:function(g,l,h){"undefined"===typeof e&&(e=g.apply(h,l));return e}}},"transient":function(){return{getInstance:function(e,g,h){g.unshift(h);return new (Function.prototype.bind.apply(e,g))}}}};(function(){if(!(h.plug&&h.plug instanceof p)){var e=new p,g;for(g in q)e.factory(g,q[g]);e.reference("window",h);e.reference("document",r);h.plug=e}})()})(window,document);
