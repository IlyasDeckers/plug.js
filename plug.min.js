(function(k,t,u){var p=function(){function e(b){var c=b.value;return b.type===n.module?c.getInstance():c}function g(b,c,a,f){if("undefined"===typeof b||!h(a))throw Error("Invalid module registration");if(1>=a.length&&"function"!==typeof a[0])throw Error("Module registration requires a constructor function");var d=a.pop();if("function"!==typeof d)throw Error("Last parameter of constructor array must be a constructor function");c=new q(c,d,a,f||this);m.add(b,n.module,c)}var h=Array.isArray,k=/^[^a-zA-Z$_]+|[^a-zA-Z_0-9$]+/gi,
n={module:1,injectable:2},r={},p=function(b,c,a){return{name:b,type:c,value:a}},m=function(){var b=[];return{add:function(c,a,f){if("undefined"===typeof c||"undefined"===typeof a)throw Error("Invalid registration");var d;a:{for(;0<b.length;){d=b[0].name===c;break a}d=void 0}if(d)for(;0<b.length;){a=b[0];a.name===c&&(a.value=f);break}else b.push(new p(c,a,f))},retrieve:function(c){if("undefined"===typeof c||!h(c))throw Error("Must provide at least one name");for(var a=[],f=0;f<c.length;f++){var d;
a:{d=c[f];if(!d||"string"!==typeof d)throw Error("Invalid name provided");for(var e=0;e<b.length;e++){var l=b[e];if(l.name===d){d=l;break a}}console.warn("Failed to resolve "+d+". Expect undefined for mapped variable.");d=void 0}a.push(d)}return a}}}();(function(){function b(a,b){if(!h(a))throw Error("Value provided is not an array");return a.map(function(a){return b?c(a,b):a})}function c(a,f){f=f||!1;var d=a;switch(!0){case a instanceof Element&&"object"===typeof a&&a.nodeName:d=a.cloneNode(f);break;
case a instanceof Object||"object"===typeof a:d=f;if("object"!==typeof a)throw Error("Value provided is not an object");var e={},l;for(l in a)a.hasOwnProperty(l)&&(e[l]=d?c(a[l],d):a[l]);d=e;break;case a instanceof Array||h(a):d=b(a,f);break;case a instanceof Function||"function"===typeof a:if("function"!==typeof a)throw Error("Value provided is not a function");d=a.bind({});break;case a instanceof Date:d=new Date,d.setTime(a.getTime())}return d}return{clone:c}})();var q=function(b,c,a,f){function d(){if("undefined"===
typeof a)return[];if(!h(a))throw Error("Dependencies must be an array");return m.retrieve(a).map(function(a){return e(a)})}var g;if(r.hasOwnProperty(b))g=new r[b];else throw Error("Factory "+b+" is not registered");return{getInstance:function(){if("undefined"===typeof g.getInstance)throw Error("Factory must contain a 'getInstance' method");var a=d();return g.getInstance(c,a,f)}}};return{value:function(b,c,a){m.add(b,n.injectable,ObjectModifier.clone(c,a));return this},reference:function(b,c){m.add(b,
n.injectable,c);return this},factory:function(b,c){if("undefined"===typeof b||"function"!==typeof c)throw Error("A valid factory must be supplied");var a=b.replace(k,"");r[a]=c;this[a]=function(b,c,e){g(b,a,c,e)}},resolve:function(b){b=m.retrieve([].concat(b));if(1==b.length)return e(b[0]);for(var c={},a=0;a<b.length;a++){var f=b[a];f!==u&&(c[f.name]=e(f))}return c}}},q={singleton:function(){var e;return{getInstance:function(g,h,k){"undefined"===typeof e&&(e=g.apply(k,h));return e}}},"transient":function(){return{getInstance:function(e,
g,h){g.unshift(h);return new (Function.prototype.bind.apply(e,g))}}}};(function(){if(!(k.plug&&k.plug instanceof p)){var e=new p,g;for(g in q)e.factory(g,q[g]);e.reference("window",k);e.reference("document",t);k.plug=e}})()})(window,document);
